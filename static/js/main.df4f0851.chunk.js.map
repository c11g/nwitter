{"version":3,"sources":["components/Nweet.module.scss","components/NweetFactory.module.scss","components/AuthForm.module.scss","routes/Auth.module.scss","components/Navigation.module.scss","routes/Home.module.scss","components/App.module.scss","components/Navigation.jsx","fbase.jsx","components/Nweet.jsx","const.jsx","components/NweetFactory.jsx","routes/Home.jsx","components/AuthForm.jsx","routes/Auth.jsx","routes/Profile.jsx","components/Router.jsx","components/App.jsx","index.jsx","routes/Profile.module.scss"],"names":["module","exports","Navigation","username","userObj","displayName","className","style","root","menu","to","firebase","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebaseRefer","authService","dbService","storageService","Nweet","nweet","isOwner","useState","isEdit","setIsEdit","text","newNweet","setNewNweet","onDelete","a","window","confirm","collection","doc","id","delete","imgUrl","refFromURL","onToggleEdit","prev","onSubmit","event","preventDefault","update","type","value","onChange","target","input","required","edit_buttons","onClick","cancel","content","src","img","width","alt","buttons","button","NweetFactory","setNweet","dataUrl","setDataUrl","fileUrl","fileRef","ref","child","uid","uuidv4","putString","response","getDownloadURL","add","createdAt","Date","now","creatorId","placeholder","file_wrap","accept","theFile","files","reader","FileReader","addEventListener","result","currentTarget","readAsDataURL","file","file_ui","submit","img_wrap","clear","Home","nweets","setNweets","useEffect","unsubscribe","orderBy","onSnapshot","snapshot","nweetArray","docs","map","data","key","AuthForm","email","setEmail","password","setPassword","hasAccount","setHasAccount","error","setError","name","signInWithEmailAndPassword","createUserWithEmailAndPassword","message","form","toggle","Auth","onSocialClick","provider","auth","GoogleAuthProvider","GithubAuthProvider","signInWithPopup","Profile","refreshUser","history","useHistory","myNweets","setMyNweets","getMyNweets","where","get","newName","setNewName","photoURL","photoUrl","newPhotoUrl","currentUser","updateProfile","toggleEdit","setPhotoUrl","profile","edit","signOut","push","signout","Router","isLogin","basename","exact","path","App","init","setInit","setUserObj","onAuthStateChanged","user","Boolean","loading","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.df4f0851.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Nweet_root__1ZBPb\",\"content\":\"Nweet_content__38hvE\",\"text\":\"Nweet_text__1T_hu\",\"img\":\"Nweet_img__9Yj4W\",\"buttons\":\"Nweet_buttons__1jpVR\",\"button\":\"Nweet_button__14HsJ\",\"input\":\"Nweet_input__gUppI\",\"edit_buttons\":\"Nweet_edit_buttons__2SZLS\",\"update\":\"Nweet_update__2oRq0\",\"cancel\":\"Nweet_cancel__1UHM6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"NweetFactory_root__29dYI\",\"input\":\"NweetFactory_input__3yDsH\",\"file_wrap\":\"NweetFactory_file_wrap__29HGl\",\"file\":\"NweetFactory_file__2-61w\",\"file_ui\":\"NweetFactory_file_ui__15Vgr\",\"submit\":\"NweetFactory_submit__31tSm\",\"img_wrap\":\"NweetFactory_img_wrap__5B-9-\",\"img\":\"NweetFactory_img__3MQv6\",\"clear\":\"NweetFactory_clear__29454\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"AuthForm_input__3yPNK\",\"submit\":\"AuthForm_submit__3wRH0\",\"toggle\":\"AuthForm_toggle__1v1Vl\",\"error\":\"AuthForm_error__VxXdv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Auth_root__3TaIK\",\"buttons\":\"Auth_buttons__1bcJr\",\"button\":\"Auth_button__pNioI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Navigation_root__U3Pah\",\"menu\":\"Navigation_menu__3UZDQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Home_root__nHUed\",\"nweet\":\"Home_nweet__IfOR7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"App_root__1GFmx\",\"loading\":\"App_loading__2qlBA\"};","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport style from \"./Navigation.module.scss\";\n\nconst Navigation = ({ userObj }) => {\n  const username = userObj.displayName || \"user\";\n  return (\n    <nav className={style.root}>\n      <Link className={style.menu} to=\"/\">Home</Link>\n      <Link className={style.menu} to=\"/profile\">{username}'s Profile</Link>\n    </nav>\n  );\n}\n\nNavigation.propTypes = {\n  userObj: PropTypes.object.isRequired\n};\n\nexport default Navigation;\n","import * as firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"firebase/storage\";\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_APP_ID,\n};\n\nfirebase.initializeApp(firebaseConfig);\nexport const firebaseRefer = firebase;\nexport const authService = firebase.auth();\nexport const dbService = firebase.firestore();\nexport const storageService = firebase.storage();","import React, { useState } from \"react\";\nimport { dbService, storageService } from \"fbase\";\nimport { NWEETS_COLLECTION } from \"const\";\nimport PropTypes from \"prop-types\";\nimport style from \"./Nweet.module.scss\";\n\nconst Nweet = ({ nweet, isOwner }) => {\n  const [isEdit, setIsEdit] = useState(false);\n  const [newNweet, setNewNweet] = useState(nweet.text);\n  const onDelete = async () => {\n    const ok = window.confirm(\"Are you sure you want delete this nweet?\");\n    if (!ok) return;\n    await dbService.collection(NWEETS_COLLECTION).doc(nweet.id).delete();\n    if (nweet.imgUrl) {\n      await storageService.refFromURL(nweet.imgUrl).delete();\n    }\n  };\n  const onToggleEdit = () => {\n    setIsEdit((prev) => !prev);\n  };\n  const onNweetChange = (event) => {\n    const {\n      target: { value },\n    } = event;\n    setNewNweet(value);\n  };\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    await dbService.collection(NWEETS_COLLECTION).doc(nweet.id).update({\n      text: newNweet,\n    });\n    onToggleEdit();\n  };\n  return (\n    <div className={style.root}>\n      {isEdit ? (\n        <>\n          <form onSubmit={onSubmit}>\n            <input\n              type=\"text\"\n              value={newNweet}\n              onChange={onNweetChange}\n              className={style.input}\n              required\n            />\n            <div className={style.edit_buttons}>\n              <button type=\"submit\" className={style.update}>Update</button>\n              <button type=\"button\" onClick={onToggleEdit} className={style.cancel}>\n                Cancel\n              </button>\n            </div>\n          </form>\n        </>\n      ) : (\n        <>\n          <div className={style.content}>\n            <strong className={style.text}>{nweet.text}</strong>\n            {nweet.imgUrl && <img src={nweet.imgUrl} className={style.img} width=\"50\" alt=\"\" />}\n          </div>\n          {isOwner && (\n            <div className={style.buttons}>\n              <button type=\"button\" onClick={onDelete}  className={style.button}>\n                Delete\n              </button>\n              <button type=\"button\" onClick={onToggleEdit}  className={style.button}>\n                Edit\n              </button>\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nNweet.propTypes = {\n  nweet: PropTypes.object.isRequired,\n  isOwner: PropTypes.bool\n}\n\nexport default Nweet;\n","export const ROUTER_BASE_NAME = \"/nwitter\";\nexport const NWEETS_COLLECTION = \"nweets\";\n","import React, { useState } from 'react';\nimport { dbService, storageService } from \"fbase\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { NWEETS_COLLECTION } from \"const\";\nimport PropTypes from \"prop-types\";\nimport style from \"./NweetFactory.module.scss\";\n\nconst NweetFactory = ({userObj}) => {\n  const [nweet, setNweet] = useState(\"\");\n  const [dataUrl, setDataUrl] = useState(null);\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    if (!nweet && !dataUrl) return;\n    let fileUrl = null;\n    if (dataUrl) {\n      const fileRef = storageService.ref().child(`${userObj.uid}/nweets/${uuidv4()}`);\n      const response = await fileRef.putString(dataUrl, \"data_url\");\n      fileUrl = await response.ref.getDownloadURL();\n    }\n    await dbService.collection(NWEETS_COLLECTION).add({\n      text: nweet,\n      createdAt: Date.now(),\n      creatorId: userObj.uid,\n      imgUrl: fileUrl,\n    });\n    setNweet(\"\");\n    setDataUrl(null);\n  };\n  const onChange = (event) => {\n    const {\n      target: { value },\n    } = event;\n    setNweet(value);\n  };\n  const onFileChange = (event) => {\n    const {\n      target: { files },\n    } = event;\n    const theFile = files[0];\n    const reader = new FileReader();\n    reader.addEventListener(\"load\", (event) => {\n      const {\n        currentTarget: { result },\n      } = event;\n      setDataUrl(result);\n    });\n    reader.readAsDataURL(theFile);\n  };\n  const onClearPhoto = () => setDataUrl(null);\n  return (\n    <form onSubmit={onSubmit} className={style.root}>\n      <input\n        type=\"text\"\n        placeholder=\"What's on your mind?\"\n        value={nweet}\n        onChange={onChange}\n        className={style.input}\n      />\n      <div className={style.file_wrap}>\n        <input type=\"file\" accept=\"image/*\" onChange={onFileChange} className={style.file} />\n        <div className={style.file_ui}>Upload Image</div>\n      </div>\n      <button type=\"submit\" className={style.submit}>Nweet</button>\n      {dataUrl && (\n        <div className={style.img_wrap}>\n          <img src={dataUrl} alt=\"\" width=\"50\" className={style.img} />\n          <button type=\"button\" onClick={onClearPhoto} className={style.clear}>\n            Clear\n          </button>\n        </div>\n      )}\n    </form>\n  );\n}\n\nNweetFactory.propTypes = {\n  userObj: PropTypes.object.isRequired\n};\n\nexport default NweetFactory;","import React, { useEffect, useState } from \"react\";\nimport { dbService } from \"fbase\";\nimport { NWEETS_COLLECTION } from \"const\";\nimport PropTypes from \"prop-types\";\nimport Nweet from \"components/Nweet\";\nimport NweetFactory from \"components/NweetFactory\";\nimport style from \"./Home.module.scss\";\n\nconst Home = ({ userObj }) => {\n  const [nweets, setNweets] = useState([]);\n  useEffect(() => {\n    const unsubscribe = dbService\n      .collection(NWEETS_COLLECTION)\n      .orderBy(\"createdAt\")\n      .onSnapshot((snapshot) => {\n        const nweetArray = snapshot.docs.map((doc) => ({\n          id: doc.id,\n          ...doc.data(),\n        }));\n        setNweets(nweetArray);\n      });\n    return () => unsubscribe();\n  }, []);\n  return (\n    <div className={style.root}>\n      <NweetFactory userObj={userObj} />\n      <div className={style.nweet}>\n        {nweets.map((nweet) => (\n          <Nweet\n            key={nweet.id}\n            nweet={nweet}\n            isOwner={userObj.uid === nweet.creatorId}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nHome.propTypes = {\n  userObj: PropTypes.object.isRequired\n};\n\nexport default Home;","import React, { useState } from \"react\";\nimport { authService } from \"fbase\";\nimport style from \"./AuthForm.module.scss\"\n\nconst AuthForm = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [hasAccount, setHasAccount] = useState(false);\n  const [error, setError] = useState(\"\");\n  const onChange = (event) => {\n    const {\n      target: { name, value },\n    } = event;\n    if (name === \"email\") {\n      setEmail(value);\n    } else if (name === \"password\") {\n      setPassword(value);\n    }\n  };\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      if (hasAccount) {\n        await authService.signInWithEmailAndPassword(email, password);\n      } else {\n        await authService.createUserWithEmailAndPassword(email, password);\n      }\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n  const toggleAccount = () => setHasAccount((prev) => !prev);\n  return (\n    <div className={style.root}>\n      <form onSubmit={onSubmit} className={style.form}>\n        <input\n          className={style.input}\n          name=\"email\"\n          type=\"email\"\n          placeholder=\"Email\"\n          value={email}\n          onChange={onChange}\n          required\n        />\n        <input\n          className={style.input}\n          name=\"password\"\n          type=\"password\"\n          placeholder=\"Password\"\n          value={password}\n          onChange={onChange}\n          required\n        />\n        <div className={style.error}>{error}</div>\n        <button type=\"submit\" className={style.submit}>\n          {hasAccount ? \"Sign In\" : \"Create Account\"}\n        </button>\n      </form>\n      <button type=\"button\" onClick={toggleAccount} className={style.toggle}>\n        {hasAccount ? \"계정이 없으면 새로 만들어주세요.\" : \"계정이 있으면 로그인해주세요.\"}\n      </button>\n    </div>\n  )\n}\n\nexport default AuthForm;","import React from \"react\";\nimport { firebaseRefer, authService } from \"fbase\";\nimport AuthForm from \"components/AuthForm\";\nimport style from \"./Auth.module.scss\";\n\nconst Auth = () => {\n  const onSocialClick = async (event) => {\n    const {\n      target: { name },\n    } = event;\n    let provider;\n    if (name === \"google\") {\n      provider = new firebaseRefer.auth.GoogleAuthProvider();\n    } else if (name === \"github\") {\n      provider = new firebaseRefer.auth.GithubAuthProvider();\n    }\n    await authService.signInWithPopup(provider);\n  };\n  return (\n    <div className={style.root}>\n      <AuthForm />\n      <div className={style.buttons}>\n        <button name=\"google\" type=\"button\" onClick={onSocialClick}\n          className={style.button}\n        >\n          Sign In With Google\n        </button>\n        <button name=\"github\" type=\"button\" onClick={onSocialClick}\n          className={style.button}\n        >\n          Sign In With Github\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default Auth;","import React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { authService, dbService, storageService } from \"fbase\";\nimport { NWEETS_COLLECTION } from \"const\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport Nweet from \"components/Nweet\";\nimport style from \"./Profile.module.scss\";\n\nconst Profile = ({ userObj, refreshUser }) => {\n  const history = useHistory();\n  const onSignOut = () => {\n    authService.signOut();\n    history.push(\"\");\n  };\n  const [myNweets, setMyNweets] = useState([]);\n  const getMyNweets = async () => {\n    const myNweets = await dbService.collection(NWEETS_COLLECTION)\n      .where(\"creatorId\", \"==\", userObj.uid)\n      .get();\n    setMyNweets(myNweets.docs.map((doc) => ({\n      id: doc.id, ...doc.data()\n    })));\n  };;\n  useEffect(() => {\n    getMyNweets();\n  }, []);\n  const [newName, setNewName] = useState(userObj.displayName||\"\");\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    if (userObj.displayName === newName && userObj.photoURL === photoUrl) return;\n    let newPhotoUrl = photoUrl;\n    if (userObj.photoURL !== newPhotoUrl) {\n      const fileRef = storageService.ref().child(`${userObj.uid}/profile/${uuidv4()}`);\n      const response = await fileRef.putString(photoUrl, \"data_url\");\n      newPhotoUrl = await response.ref.getDownloadURL();\n    }\n    await authService.currentUser.updateProfile({\n      displayName: newName,\n      photoURL: newPhotoUrl,\n    });\n    refreshUser();\n    toggleEdit();\n  }\n  const onChange = event => {\n    const { target: { value } } = event;\n    setNewName(value);\n  }\n  const [photoUrl, setPhotoUrl] = useState(userObj.photoURL);\n  const onFileChange = event => {\n    const { currentTarget: { files } } = event;\n    const theFile = files[0]\n    const reader = new FileReader();\n    reader.addEventListener(\"load\", event => {\n      const { currentTarget: { result } } = event;\n      setPhotoUrl(result);\n    });\n    reader.readAsDataURL(theFile,)\n  }\n  const [isEdit, setIsEdit] = useState(false);\n  const toggleEdit = () => setIsEdit(prev => !prev);\n  return (\n    <div className={style.root}>\n      <div className={style.profile}>\n        {photoUrl && <img src={photoUrl} className={style.img} width=\"30\" alt=\"\" />}\n        {\n          isEdit ? (\n            <form onSubmit={onSubmit}>\n              <div className={style.file_wrap}>\n                <input type=\"file\" accept=\"image/*\" onChange={onFileChange} className={style.file} />\n                <div className={style.file_ui}>Edit Image</div>\n              </div>\n              <input type=\"text\" placeholder=\"Enter your display name\" value={newName} onChange={onChange} className={style.input} />\n              <button className={style.update}>Update</button>\n              <button type=\"button\" onClick={toggleEdit} className={style.cancel}>Cancel</button>\n            </form>\n          ) : (\n            <div>\n              <strong className={style.name}>{userObj.displayName}</strong>\n              <button type=\"button\" onClick={toggleEdit} className={style.edit}>Edit</button>\n            </div>\n          )\n        }\n        <button type=\"button\" onClick={onSignOut} className={style.signout}>\n          Sign Out\n        </button>\n      </div>\n      <div className={style.nweet}>\n        {\n          myNweets.map(nweet => <Nweet\n            key={nweet.id}\n            nweet={nweet}\n          />)\n        }\n      </div>\n    </div>\n  );\n};\n\nProfile.propTypes = {\n  userObj: PropTypes.object.isRequired,\n  refreshUser: PropTypes.func.isRequired,\n}\n\nexport default Profile;","import React from \"react\";\nimport {BrowserRouter, Switch, Route} from 'react-router-dom';\nimport PropTypes from \"prop-types\";\nimport {ROUTER_BASE_NAME} from \"const\";\nimport Navigation from \"components/Navigation\";\nimport Home from \"routes/Home\";\nimport Auth from \"routes/Auth\";\nimport Profile from \"routes/Profile\";\n\nconst Router = ({ isLogin, userObj, refreshUser }) => {\n  return (\n    <BrowserRouter basename={ROUTER_BASE_NAME}>\n      {isLogin && <Navigation userObj={userObj} />}\n      <Switch>\n        {isLogin ? (\n          <>\n            <Route exact path=\"/\">\n              <Home userObj={userObj} />\n            </Route>\n            <Route exact path=\"/profile\">\n              <Profile userObj={userObj} refreshUser={refreshUser} />\n            </Route>\n          </>\n        ) : (\n          <Route exact path=\"/\">\n            <Auth />\n          </Route>\n        )}\n      </Switch>\n    </BrowserRouter>\n  );\n};\n\nRouter.propTypes = {\n  isLogin: PropTypes.bool.isRequired,\n  userObj: PropTypes.object,\n  refreshUser: PropTypes.func.isRequired,\n}\n\nexport default Router;","import React, { useEffect, useState } from \"react\";\nimport Router from \"components/Router\";\nimport { authService } from \"fbase\";\nimport style from \"./App.module.scss\";\n\nfunction App() {\n  const [init, setInit] = useState(false);\n  const [userObj, setUserObj] = useState(null);\n  useEffect(() => {\n    const unsubscribe = authService.onAuthStateChanged((user) => {\n      if(user){\n        setUserObj({\n          displayName: user.displayName,\n          uid: user.uid,\n          photoURL: user.photoURL,\n        });\n      } else {\n        setUserObj(null);\n      }\n      setInit(true);\n    });\n    return () => unsubscribe();\n  }, []);\n  const refreshUser = async() => {\n    const user = authService.currentUser;\n    setUserObj({\n      displayName: user.displayName,\n      uid: user.uid,\n      photoURL: user.photoURL,\n    });\n  }\n  return (\n    <div className={style.root}>\n      {init ? (\n        <Router isLogin={Boolean(userObj)} userObj={userObj} refreshUser={refreshUser} />\n        ) : (\n        <div className={style.loading}>Loading...</div>\n      )}\n    </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from 'components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Profile_root__3HEab\",\"nweet\":\"Profile_nweet__3JqDb\",\"profile\":\"Profile_profile__piFVH\",\"name\":\"Profile_name__3A702\",\"img\":\"Profile_img__27bsV\",\"edit\":\"Profile_edit__1T_RX\",\"signout\":\"Profile_signout__1tmbV\",\"file_wrap\":\"Profile_file_wrap__3syQ7\",\"file\":\"Profile_file__eOy9A\",\"file_ui\":\"Profile_file_ui__EGkbu\",\"input\":\"Profile_input__2kFRs\",\"update\":\"Profile_update__3FadK\",\"cancel\":\"Profile_cancel__1qQ2B\"};"],"sourceRoot":""}